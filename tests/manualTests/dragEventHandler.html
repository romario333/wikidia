<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>Wikidia Demo</title>

    <script type="text/javascript" src="../../lib/jquery-1.7.1.js"></script>
    <script type="text/javascript" src="../../src/utils.js"></script>
    <script type="text/javascript" src="../../src/model/diagram.js"></script>
    <script type="text/javascript" src="../../src/model/item.js"></script>
    <script type="text/javascript" src="../../src/model/node.js"></script>
    <script type="text/javascript" src="../../src/model/line.js"></script>
    <script type="text/javascript" src="../../src/view/svg/svgViewFactory.js"></script>
    <script type="text/javascript" src="../../src/view/svg/svgHelper.js"></script>
    <script type="text/javascript" src="../../src/view/svg/dragEventHandler.js"></script>
    <script type="text/javascript" src="../../src/view/svg/view.js"></script>
    <script type="text/javascript" src="../../view/svg/rootView.js"></script>
    <script type="text/javascript" src="../../view/svg/diagramView.js"></script>
    <script type="text/javascript" src="../../view/svg/nodeView.js"></script>
    <script type="text/javascript" src="../../view/svg/lineView.js"></script>
    <script type="text/javascript" src="../../presenter/commandExecutor.js"></script>
    <script type="text/javascript" src="../../presenter/commands.js"></script>
    <script type="text/javascript" src="../../presenter/renderers.js"></script>
    <script type="text/javascript" src="../../presenter/diagramPresenter.js"></script>


    <style type="text/css">
        svg
        {
            width: 100%;
            height: 700px;
        }
    </style>
</head>
<body>

<div id="diagram" style="width: 100%; height: 100%;">
</div>

<script type="text/javascript">

    var diagram;

    $(document).ready(function () {

        diagram = WIKIDIA.model.diagram();
        diagram.addItem(WIKIDIA.model.node({x: 0, y: 0, text: "drag me"}));

        var viewFactory = WIKIDIA.view.svg.svgViewFactory();
        var rootView = viewFactory.rootView($("#diagram"));
        var diagramView = viewFactory.diagramView(rootView, diagram);

        var diagramPresenter = WIKIDIA.presenter.diagramPresenter(diagramView, diagram, viewFactory);

        $("#printJSON").click(function () {
            console.log(diagram.toJSON());
        });

        diagram.dragStart(function (e) {
            console.log("drag start");
        });

        diagram.dragMove(function (e, dx, dy) {
            console.log("drag move");
        });

        diagram.dragEnd(function (e, dx, dy) {
            console.log("drag end");
        });

        diagram.mouseDown(function (e) {
            console.log("mouseDown");
        });

        diagram.mouseUp(function (e) {
            console.log("mouseUp");
        });

        diagram.click(function (e) {
            console.log("click");
        });
    });

</script>

</body>
</html>